export const API_BASE = process.env.NEXT_PUBLIC_API_BASE || 'https://zumtv.net';
export async function api(path,{method='GET',token,body}={}){const res=await fetch(`${API_BASE}${path}`,{method,headers:{'Content-Type':'application/json',...(token?{Authorization:`Bearer ${token}`}:{})},body:body?JSON.stringify(body):undefined});if(!res.ok){const e=await res.json().catch(()=>({error:res.statusText}));throw new Error(e.error||'Request failed');}return res.json();}